# SES Test Email Sender Configuration
# Purpose: Lambda function to test SES email sending and verify log flow to S3
# Design: Sends test emails and validates SES-Kinesis integration

template:
  type: file
  path: ses-test-email-sender-v2.yaml

parameters:
  ProjectName: !stack_output prod/phase-1-infrastructure-foundation.yaml::ProjectName
  Environment: !stack_output prod/phase-1-infrastructure-foundation.yaml::Environment

  # Email Configuration
  SourceEmailDomain: !stack_output prod/phase-3-ses-byodkim.yaml::SESDomainName
  TestRecipientEmail: !stack_output prod/ses-sandbox-testing.yaml::VerifiedTestEmailAddress

  # SES Configuration
  SESConfigurationSetName: !stack_output prod/phase-3-ses-byodkim.yaml::ConfigurationSetName

dependencies:
  - prod/phase-1-infrastructure-foundation.yaml
  - prod/phase-3-ses-byodkim.yaml
  - prod/ses-sandbox-testing.yaml

tags:
  Phase: "test-email-sender"
  Purpose: "SES email sending test and log validation"
  Environment: prod
  TestingMode: "ses-kinesis-integration"
