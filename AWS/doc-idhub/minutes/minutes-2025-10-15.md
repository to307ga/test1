# 2025-10-15

## 1. 直近、やること。

* デスクトップ環境を鍛える。 **→ Done**
  * セットアップ方法の「画一化」
  * `settings.json`, `projects.toml` といった共通設定ファイルを鍛える。 （朝長）
  * そこに至るまでには `uv`, `awscli` のインストールが完了していることが前提。
    * その手順をまとめる。 （伊藤）
  * `cp932`, SSL が、一生まとわりつく。Windowsとの相性、悪いかも。
    * SSLのWarningは ネイティブの aws-cli 実行時だけかも。
  * `dev` / `prod` の切り替え。
    * 事故りそう。
    * 運用フェーズでは、ローカル（VSCODE）からのCfn実行を避けるのがよいかも。
    * `prod` は、CI/CD的にGithub Actionで実行する、とか。

* 他のSaaS（FutureVuls、Datadog）を使えるように申請（宮内）
  * AWSと並行して、単独でDatadog等の操作、調査ができるかもね。
  * Datadogは「試用期間」があっていろいろ触れる。
  * 優先度は強いて言うならDatadog。
  * （参考）DOCOMO社 推奨 SaaS、Agent
    * CrowdStrike ー 「振る舞い検知」
    * FutureVuls ー 脆弱性やEOL検知
    * DataDog ー 監視・メトリクス

### 1.1. 要件定義書 → 設計書作成 → Cfnテンプレート作成までの流れ

* 「Cfnテンプレート作成に必要なドキュメントを作ってください。」と、Copilotへお願いする。
  * Network設計書
  * 監視設計書（も作ってくれるのかな？）
    * .etc
* 要件定義書を磨いていくスタイル
  * [設計書/要件定義.md] を書き直してみる。（注意： [../要件定義書.md] ではない。）
  * その Pull Requestに対して、みんなが口出し（朝長、馬場、今井）  
  * `feature/docs` ブランチを鍛えていく。（＝つまり、Merge Requestを作りたいならこのブランチからさらにブランチを生やし、Requestする。）
    * [仮設計書作成 by to307ga · Pull Request #3 · nttdocomo-com/aws-templates-idhub](https://github.com/nttdocomo-com/aws-templates-idhub/pull/3) にコメントしていく。
* 10/22(水)に対面で協議
  * 隠れた要件がいろいろありそう。
    * 影武者
    * rbash
    * ......

## 2. 必要なモノ・武器

## 3. 「idhub とは？」を知りたい。

* 10/17(金) 11:00～12:00
* 尾岸さん、朝長さん、CNSの新規2名。
* お客様目線。
と、
* システム構成
* 伊藤 → 尾岸さん、朝長さん、藤本さん、中川さん へレクチャ。
  * ありものの資料、挿絵を、Githubへ。

## 4. PoC環境での検証

* 下回りは中川さん、完了。
* EC2 インスタンス x 3
* Jenkins, Web, 踏み台。今はJenkinsの「母艦」となるホストに着手。
  * Ansible Playbook を git cloneして ansibleが動くまで。

### 4.1. オンプレからAWS PoC環境へデータ転送したい

* 商用データのマイグレではない。
* VPNの位置づけは？
* PoC環境へデータ転送したい。From: 三鷹DC → To: AWS
* 結論
  * PoC段階では、三鷹 → S3 Putする。
![data-transfer](./images/poc-data-transfer.drawio.svg)

### 4.2. PoCでの検証項目を明確にしていきたいよね。

* bprtech提供のCfnテンプレートは検証不要。
  * ただ、EC2に対しては、このTemplateは提供されていない。
  * なので EC2 のCfn Templateは自作する必要がある。
* 検証項目を思いつきで書いてみる。
  * MFA
    * 現状、Reverse Proxy 上で MFA のApache拡張モジュール
  * ......
* おいおい、検証項目を管理していこう。Backlogの出番、か？


# 以降はアーカイブ

* 古い記事を押し出したもの。

## 2. コミュニケーション手段

* チャットが見れない。
  * Slackだったり、別テナントのTeamsだったり。
  * へー社の外部ベンダーとのやり取り方法のスタンダードは「Google Workspace」らしい。（伊藤）
    * Google Workspaceはあくまで「文書共有ストレージ」。そのニーズは薄いかも。
    * 当座、Slackだけで乗り切ろう。
  * Slackを公式のチャットツールとしよう。
    * `#x_pjct_goosubsc_cns` チャネル

* 検証環境AWSアカウントの申請（今井 聡史） **→ (完了)**
  * サンドボックス的に、いじり倒せる環境
  * 「PJコード」が必要だが、先走ってAWSアカウントを申請してみる。
  * IAMユーザ、初回儀式
    * Passwd変更
    * MFA設定
      * access_key, secret_code 方式のアクセスだと、12時間ごとにMFA問われて面倒かも。
  * 古いIAM（Ex. `nttdocomo-iam-k5ito` ）は消します。（By 伊藤）

* 三鷹DCアカウント（SSH）
  * 藤本さん、中川さん、分
  * ED25519形式のキーペアファイルを作成いただく。
  * その公開鍵ファイルをSlackにて送付。
