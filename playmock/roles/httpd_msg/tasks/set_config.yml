---
# ログフォルダの権限変更
- name: ログフォルダの権限変更
  file:
    state: directory
    path: /var/log/httpd
    owner: root
    group: root
    mode: 0755

- name: httpd.confを配布
  template:
    src: templates/httpd/httpd.conf.j2
    dest: /etc/httpd/conf/httpd.conf
    backup: yes 
    owner: root
    group: root
    mode: 0644
  notify:
    - httpd_msg_restart_msg

- name: http.confを配布
  template:
    src: templates/httpd/http.conf.j2
    dest: /etc/httpd/conf.d/http.conf
    backup: yes 
    owner: root
    group: root
    mode: 0644
  notify:
    - httpd_msg_restart_msg

# ファイルを配布する
- name: 00-base.confを配布
  template:
    src: templates/httpd/00-base.conf.j2
    dest: /etc/httpd/conf.modules.d/00-base.conf
    backup: yes 
    owner: root
    group: root
    mode: 0644

# ファイルを配布する
- name: 00-proxy.confを配布
  template:
    src: templates/httpd/00-proxy.conf.j2
    dest: /etc/httpd/conf.modules.d/00-proxy.conf
    backup: yes 
    owner: root
    group: root
    mode: 0644

# ファイルを配布する
- name: 00-dav.confを配布
  template:
    src: templates/httpd/00-dav.conf.j2
    dest: /etc/httpd/conf.modules.d/00-dav.conf
    backup: yes 
    owner: root
    group: root
    mode: 0644

# ファイルを配布する
- name: 00-lua.confを配布
  template:
    src: templates/httpd/00-lua.conf.j2
    dest: /etc/httpd/conf.modules.d/00-lua.conf
    backup: yes 
    owner: root
    group: root
    mode: 0644

# ファイルを配布する
- name: 00-mpm.confを配布
  template:
    src: templates/httpd/00-mpm.conf.j2
    dest: /etc/httpd/conf.modules.d/00-mpm.conf
    backup: yes 
    owner: root
    group: root
    mode: 0644

# ファイルを配布する
- name: 00-systemd.confを配布
  template:
    src: templates/httpd/00-systemd.conf.j2
    dest: /etc/httpd/conf.modules.d/00-systemd.conf
    backup: yes 
    owner: root
    group: root
    mode: 0644

# ファイルを配布する
- name: 01-cgi.confを配布
  template:
    src: templates/httpd/01-cgi.conf.j2
    dest: /etc/httpd/conf.modules.d/01-cgi.conf
    backup: yes 
    owner: root
    group: root
    mode: 0644

